(function(t){function e(e){for(var o,r,n=e[0],c=e[1],l=e[2],d=0,v=[];d<n.length;d++)r=n[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&v.push(i[r][0]),i[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(v.length)v.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],o=!0,r=1;r<a.length;r++){var c=a[r];0!==i[c]&&(o=!1)}o&&(s.splice(e--,1),t=n(n.s=a[0]))}return t}var o={},i={app:0},s=[];function r(t){return n.p+"js/"+({about:"about"}[t]||t)+"."+{about:"503c9133","chunk-2d216214":"8db2bc27","chunk-5ecd6ec2":"6efcd977"}[t]+".js"}function n(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.e=function(t){var e=[],a=i[t];if(0!==a)if(a)e.push(a[2]);else{var o=new Promise((function(e,o){a=i[t]=[e,o]}));e.push(a[2]=o);var s,c=document.createElement("script");c.charset="utf-8",c.timeout=120,n.nc&&c.setAttribute("nonce",n.nc),c.src=r(t);var l=new Error;s=function(e){c.onerror=c.onload=null,clearTimeout(d);var a=i[t];if(0!==a){if(a){var o=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",l.name="ChunkLoadError",l.type=o,l.request=s,a[1](l)}i[t]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:c})}),12e4);c.onerror=c.onload=s,document.head.appendChild(c)}return Promise.all(e)},n.m=t,n.c=o,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"02d6":function(t,e,a){"use strict";var o=a("b260"),i=a.n(o);i.a},4678:function(t,e,a){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=s(t);return a(e)}function s(t){if(!a.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}i.keys=function(){return Object.keys(o)},i.resolve=s,t.exports=i,i.id="4678"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[t.logueado?a("v-navigation-drawer",{attrs:{clipped:t.$vuetify.breakpoint.lgAndUp,app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[t.esAdministrador||t.esAlmacenero||t.esVendedor?[a("v-list-item",{attrs:{to:{name:"Home"}}},[a("v-list-item-action",[a("v-icon",[t._v("home")])],1),a("v-list-item-title",[t._v("Inicio")])],1)]:t._e(),t.esAdministrador||t.esAlmacenero?[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[a("v-list-item-title",[t._v("Almacen")])],1)],1),a("v-list-item",{attrs:{to:{name:"Categoria"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Categorias")])],1)],1),a("v-list-item",{attrs:{to:{name:"Articulo"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Articulos")])],1)],1)],1)]:t._e(),t.esAdministrador||t.esAlmacenero?[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[a("v-list-item-title",[t._v("Compras")])],1)],1),a("v-list-item",{attrs:{to:{name:"ingreso"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Ingresos")])],1)],1),a("v-list-item",{attrs:{to:{name:"proveedor"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Proveedores")])],1)],1)],1)]:t._e(),t.esAdministrador||t.esVendedor?[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[a("v-list-item-title",[t._v("Ventas")])],1)],1),a("v-list-item",{attrs:{to:{name:"venta"}}},[a("v-list-item-action",{attrs:{"background-color":"transparent"}},[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Ventas")])],1)],1),a("v-list-item",{attrs:{to:{name:"cliente"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Clientes")])],1)],1)],1)]:t._e(),t.esAdministrador?[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[a("v-list-item-title",[t._v("Accesos")])],1)],1),a("v-list-item",{attrs:{to:{name:"usuario"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Usuarios")])],1)],1)],1)]:t._e(),t.esAdministrador||t.esAlmacenero||t.esVendedor?[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[a("v-list-item-title",[t._v("Consultas")])],1)],1),a("v-list-item",{attrs:{to:{name:""}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Consulta Ingresos")])],1)],1),a("v-list-item",{attrs:{to:{name:""}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Consulta Ventas")])],1)],1)],1)]:t._e()],2)],1):t._e(),a("v-app-bar",{attrs:{"clipped-left":t.$vuetify.breakpoint.lgAndUp,app:"",color:"dark darken-3",dark:""}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("v-toolbar-title",{staticClass:"ml-0 pl-4",staticStyle:{width:"300px"}},[a("span",{staticClass:"hidden-sm-and-down"},[t._v("Sistema MEVN")])]),a("v-spacer"),t.logueado?a("v-btn",{attrs:{icon:"",small:""},on:{click:function(e){return t.salir()}}},[a("v-icon",[t._v("logout")])],1):a("v-btn",{attrs:{icon:"",small:"",to:{name:"login"}}},[a("v-icon",[t._v("apps")])],1)],1),a("v-main",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-slide-y-transition",{attrs:{mode:"out-in"}},[a("router-view")],1)],1)],1),a("v-footer",{attrs:{app:"",height:"auto"}},[t._v("© Jose Alonso Espinares Romero "+t._s((new Date).getFullYear()))])],1)},s=[],r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("v-row",{staticClass:"text-center",attrs:{align:"center",justify:"center"}},[o("v-col",{attrs:{cols:"12"}},[o("v-img",{staticClass:"my-3",attrs:{src:a("9b19"),contain:"",height:"200"}})],1),o("v-col",{staticClass:"mb-4"},[o("h1",{staticClass:"display-2 font-weight-bold mb-3"},[t._v("Welcome to Vuetify")]),o("p",{staticClass:"subheading font-weight-regular"},[t._v(" For help and collaboration with other Vuetify developers, "),o("br"),t._v("please join our online "),o("a",{attrs:{href:"https://community.vuetifyjs.com",target:"_blank"}},[t._v("Discord Community")])])]),o("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[o("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("What's next?")]),o("v-row",{attrs:{justify:"center"}},t._l(t.whatsNext,(function(e,a){return o("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v(t._s(e.text))])})),0)],1),o("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[o("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("Important Links")]),o("v-row",{attrs:{justify:"center"}},t._l(t.importantLinks,(function(e,a){return o("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v(t._s(e.text))])})),0)],1),o("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[o("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("Ecosystem")]),o("v-row",{attrs:{justify:"center"}},t._l(t.ecosystem,(function(e,a){return o("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v(t._s(e.text))])})),0)],1)],1)],1)},n=[],c={name:"HelloWorld",data:function(){return{ecosystem:[{text:"vuetify-loader",href:"https://github.com/vuetifyjs/vuetify-loader"},{text:"github",href:"https://github.com/vuetifyjs/vuetify"},{text:"awesome-vuetify",href:"https://github.com/vuetifyjs/awesome-vuetify"}],importantLinks:[{text:"Documentation",href:"https://vuetifyjs.com"},{text:"Chat",href:"https://community.vuetifyjs.com"},{text:"Made with Vuetify",href:"https://madewithvuejs.com/vuetify"},{text:"Twitter",href:"https://twitter.com/vuetifyjs"},{text:"Articles",href:"https://medium.com/vuetify"}],whatsNext:[{text:"Explore components",href:"https://vuetifyjs.com/components/api-explorer"},{text:"Select a layout",href:"https://vuetifyjs.com/getting-started/pre-made-layouts"},{text:"Frequently Asked Questions",href:"https://vuetifyjs.com/getting-started/frequently-asked-questions"}]}}},l=c,d=a("2877"),u=a("6544"),v=a.n(u),m=a("62ad"),h=a("a523"),p=a("adda"),b=a("0fd9"),f=Object(d["a"])(l,r,n,!1,null,null,null),_=f.exports;v()(f,{VCol:m["a"],VContainer:h["a"],VImg:p["a"],VRow:b["a"]});var g={name:"App",components:{HelloWorld:_},data:function(){return{dialog:!1,drawer:!0}},computed:{logueado:function(){return this.$store.state.usuario},esAdministrador:function(){return this.$store.state.usuario&&"Administrador"==this.$store.state.usuario.rol},esAlmacenero:function(){return this.$store.state.usuario&&"Almacenero"==this.$store.state.usuario.rol},esVendedor:function(){return this.$store.state.usuario&&"Vendedor"==this.$store.state.usuario.rol}},methods:{salir:function(){this.$store.dispatch("salir")}},created:function(){this.$vuetify.theme.dark=!0,this.$store.dispatch("autologin")}},x=g,k=a("7496"),C=a("40dc"),y=a("5bc1"),j=a("8336"),A=a("553a"),V=a("132d"),M=a("8860"),I=a("56b0"),w=a("da13"),D=a("1800"),N=a("5d23"),T=a("f6c4"),E=a("f774"),S=a("0789"),P=a("2fa4"),F=a("2a7f"),O=Object(d["a"])(x,i,s,!1,null,null,null),$=O.exports;v()(O,{VApp:k["a"],VAppBar:C["a"],VAppBarNavIcon:y["a"],VBtn:j["a"],VContainer:h["a"],VFooter:A["a"],VIcon:V["a"],VList:M["a"],VListGroup:I["a"],VListItem:w["a"],VListItemAction:D["a"],VListItemContent:N["a"],VListItemTitle:N["b"],VMain:T["a"],VNavigationDrawer:E["a"],VSlideYTransition:S["e"],VSpacer:P["a"],VToolbarTitle:F["a"]});a("45fc"),a("d3b7");var L=a("8c4f"),z=a("2f62"),U=a("04e1"),R=a.n(U);o["a"].use(z["a"]);var q=new z["a"].Store({state:{token:null,usuario:null},mutations:{setToken:function(t,e){t.token=e},setUsuario:function(t,e){t.usuario=e}},actions:{guardarToken:function(t,e){var a=t.commit;a("setToken",e),a("setUsuario",R()(e)),localStorage.setItem("token",e)},autologin:function(t){var e=t.commit,a=localStorage.getItem("token");a&&(e("setToken",a),e("setUsuario",R()(a))),de.push({name:"Home"})},salir:function(t){var e=t.commit;e("setToken",null),e("setUsuario",null),localStorage.removeItem("token"),de.push({name:"login"})}},modules:{}}),B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-m":""}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12",xs:"12"}},[a("div",{staticClass:"ct-chart",staticStyle:{background:"white"}},[a("canvas",{attrs:{id:"myChart"}})])]),a("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12",xs:"12"}},[a("div",{staticClass:"ct-chart",staticStyle:{background:"white"}},[a("canvas",{attrs:{id:"graficaIngreso"}})])])],1)],1)},G=[],H=(a("d81d"),a("bc3a")),W=a.n(H),K=a("30ef"),X=a.n(K),J={data:function(){return{valores:[],meses:[],totales:[],valoresIngre:[],mesesIngre:[],totalesIngre:[]}},methods:{listar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};W.a.get("venta/grafico12meses",a).then((function(e){t.valores=e.data,t.graficar()})).catch((function(t){console.log(t)}))},graficar:function(){var t,e=this;e.valores.map((function(a){switch(parseInt(a._id.mes)){case 1:t="Enero";break;case 2:t="Febrero";break;case 3:t="Marzo";break;case 4:t="Abril";break;case 5:t="Mayo";break;case 6:t="Junio";break;case 7:t="Julio";break;case 8:t="Agosto";break;case 9:t="Setiembre";break;case 10:t="Octubre";break;case 11:t="Noviembre";break;case 12:t="Diciembre";break;default:t="error"}e.meses.push(t+"/"+a._id.year),e.totales.push(a.total)}));var a=document.getElementById("myChart");new X.a(a,{type:"bar",data:{labels:e.meses,datasets:[{label:"Ventas de los últimos 12 meses",data:e.totales,backgroundColor:["rgba(98, 201, 0, 100)","rgba(255, 73, 0 , 100)","rgba(252, 255, 0, 10)","rgba(27, 217, 0, 10)","rgba(0, 144, 213, 10)","rgba(0, 70, 213, 10)","rgba(236, 0, 18, 10)","rgba(0, 225, 132, 10)","rgba(146, 240, 0, 10)","rgba(0, 179, 0, 10)","rgba(249, 44, 8,10)","rgba(0, 174, 173, 10)"],borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]},title:{display:!1}}})},listarIngresos:function(){var t=this,e={token:this.$store.state.token},a={headers:e};W.a.get("ingreso/grafico12meses",a).then((function(e){t.valoresIngre=e.data,t.graficarIngresos()})).catch((function(t){console.log(t)}))},graficarIngresos:function(){var t,e=this;e.valoresIngre.map((function(a){switch(parseInt(a._id.mes)){case 1:t="Enero";break;case 2:t="Febrero";break;case 3:t="Marzo";break;case 4:t="Abril";break;case 5:t="Mayo";break;case 6:t="Junio";break;case 7:t="Julio";break;case 8:t="Agosto";break;case 9:t="Setiembre";break;case 10:t="Octubre";break;case 11:t="Noviembre";break;case 12:t="Diciembre";break;default:t="error"}e.mesesIngre.push(t+"/"+a._id.year),e.totalesIngre.push(a.total)}));var a=document.getElementById("graficaIngreso");new X.a(a,{type:"bar",data:{labels:e.mesesIngre,datasets:[{label:"Ingresos de los últimos 12 meses",data:e.totalesIngre,backgroundColor:["rgba(0, 225, 132, 10)","rgba(27, 217, 0, 10)","rgba(0, 144, 213, 10)","rgba(0, 70, 213, 10)","rgba(236, 0, 18, 10)","rgba(0, 179, 0, 10)","rgba(249, 44, 8,10)","rgba(0, 174, 173, 10)","rgba(146, 240, 0, 10)","rgba(98, 201, 0, 100)","rgba(255, 73, 0 , 100)","rgba(252, 255, 0, 10)"],borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]},title:{display:!1}}})}},mounted:function(){this.listar(),this.listarIngresos()}},Q=J,Z=Object(d["a"])(Q,B,G,!1,null,null,null),Y=Z.exports;v()(Z,{VCol:m["a"],VContainer:h["a"],VRow:b["a"]});var tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.articulos,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{text:"",color:"gray"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",{attrs:{small:""}},[t._v("print")])],1),a("v-toolbar-title",[t._v(" Articulos")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{name:"search","append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",i,!1),o),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Codigo"},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-select",{attrs:{items:t.categorias,label:"Categorias"},model:{value:t.categoria,callback:function(e){t.categoria=e},expression:"categoria"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Stock"},model:{value:t.stock,callback:function(e){t.stock=e},expression:"stock"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"precio_venta"},model:{value:t.precio_venta,callback:function(e){t.precio_venta=e},expression:"precio_venta"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Descipción"},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{cols:"12",sm:"12",md:"12"}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1"},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1"},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Activar Item")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Desactivar Item")]):t._e(),a("v-card-text",[t._v(" Estas a punto de "),1==t.adAccion?a("span",[t._v("activar")]):t._e(),2==t.adAccion?a("span",[t._v("desactivar")]):t._e(),t._v(" el item "+t._s(t.adNombre)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-3"},on:{click:function(e){return t.close()}}},[t._v("Cancelar")]),1==t.adAccion?a("v-btn",{attrs:{color:"red darken-4"},on:{click:function(e){return t.activar()}}},[t._v("Activar")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"red darken-4"},on:{click:function(e){return t.desactivar()}}},[t._v("Desactivar")]):t._e()],1)],1)],1)],1)]},proxy:!0},{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"blue--text text--lighten-4"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text text--lighten-4"},[t._v("Inactivo")])])]}},{key:"item.opciones",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},[t._v("mdi-pencil")]),o.estado?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivar(2,o)}}},[t._v("block")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivar(1,o)}}},[t._v("check")])]]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Reiniciar")])]},proxy:!0}])})],1)],1)},et=[],at=a("8baf"),ot=(a("0da4"),{data:function(){return{dialog:!1,search:"",articulos:[],headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Código",value:"codigo",sortable:!0},{text:"Nombre",value:"nombre",sortable:!0},{text:"Categoria",value:"categoria.nombre",sortable:!0},{text:"Stock",value:"stock",sortable:!1},{text:"Precio Venta",value:"precio_venta",sortable:!0},{text:"Descripción",value:"descripcion",sortable:!0},{text:"Estado",value:"estado",sortable:!0}],desserts:[],editedIndex:-1,_id:"",codigo:"",nombre:"",categoria:"",categorias:[],stock:0,precio_venta:0,descripcion:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo registro":"Editar registro"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.getCategorias()},methods:{crearPDF:function(){var t=[{title:"Nombre",dataKey:"nombre"},{title:"Código",dataKey:"codigo"},{title:"Categoria",dataKey:"categoria"},{title:"Stock",dataKey:"stock"},{title:"Precio Venta",dataKey:"precio_venta"}],e=[];this.articulos.map((function(t){e.push({nombre:t.nombre,codigo:t.codigo,categoria:t.categoria.nombre,stock:t.stock,precio_venta:"$ "+t.precio_venta})}));var a=new at["default"]("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Lista de artículos",40,30)}}),a.save("Artículos.pdf")},limpiar:function(){this._id="",this.codigo="",this.nombre="",this.categoria="",this.stock="",this.precio_venta="",this.descripcion="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1},validar:function(){return this.valida=0,this.validaMensaje=[],this.categoria||this.validaMensaje.push("* Seleccione una categoria"),this.codigo.length>64&&this.validaMensaje.push("* El codigo del articulo no debe tener mas de 64 caracteres"),(this.nombre.length<1||this.nombre.length>50)&&this.validaMensaje.push("* El nombre del articulo no puede estar en blanco ni debe ser mayor a 50 caracteres"),(this.descripcion.length<1||this.descripcion.length>250)&&this.validaMensaje.push("* La descripción no puede estar en blanco ni debe ser mayor a 250 caracteres"),this.stock<=0&&this.validaMensaje.push("* Ingrese un stock valido"),this.precio_venta<=0&&this.validaMensaje.push("* Ingrese un precio valido"),this.validaMensaje.length&&(this.valida=1),this.valida},listar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};W.a.get("articulo/list",a).then((function(e){t.articulos=e.data})).catch((function(t){console.log(t)}))},guardar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};this.validar()||(this.editedIndex>-1?(console.log(this.categoria),W.a.put("articulo/update",{codigo:this.codigo,nombre:this.nombre,categoria:this.categoria,descripcion:this.descripcion,precio_venta:this.precio_venta,stock:this.stock,_id:this._id},a).then((function(e){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)}))):W.a.post("articulo/add",{codigo:this.codigo,nombre:this.nombre,categoria:this.categoria,descripcion:this.descripcion,precio_venta:this.precio_venta,stock:this.stock},a).then((function(e){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})))},editItem:function(t){this._id=t._id,this.codigo=t.codigo,this.nombre=t.nombre,this.descripcion=t.descripcion,this.stock=t.stock,this.precio_venta=t.precio_venta,this.dialog=!0,this.editedIndex=1,console.log(this.categoria)},activarDesactivar:function(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e._id,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};W.a.put("articulo/activate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desactivar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};W.a.put("articulo/deactivate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},close:function(){this.dialog=!1,this.adModal=0},getCategorias:function(){var t=this,e=[],a={token:this.$store.state.token},o={headers:a};W.a.get("categoria/list",o).then((function(a){e=a.data,e.map((function(e){t.categorias.push({text:e.nombre,value:e._id})}))})).catch((function(t){console.log(t)}))}}}),it=ot,st=a("b0af"),rt=a("99d9"),nt=a("8fea"),ct=a("169a"),lt=a("ce7e"),dt=a("0e8f"),ut=a("a722"),vt=a("b974"),mt=a("8654"),ht=a("71d9"),pt=Object(d["a"])(it,tt,et,!1,null,null,null),bt=pt.exports;v()(pt,{VBtn:j["a"],VCard:st["a"],VCardActions:rt["a"],VCardText:rt["b"],VCardTitle:rt["c"],VCol:m["a"],VContainer:h["a"],VDataTable:nt["a"],VDialog:ct["a"],VDivider:lt["a"],VFlex:dt["a"],VIcon:V["a"],VLayout:ut["a"],VRow:b["a"],VSelect:vt["a"],VSpacer:P["a"],VTextField:mt["a"],VToolbar:ht["a"],VToolbarTitle:F["a"]});var ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.categorias,search:t.search,"sort-by":"calories"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{text:"",color:"gray"}},[a("v-toolbar-title",[t._v("Categorias")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{name:"search","append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",i,!1),o),[t._v("Nueva Categoria")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Descipción"},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{cols:"12",sm:"12",md:"12"}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1"},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1"},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Activar Item")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Desactivar Item")]):t._e(),a("v-card-text",[t._v(" Estas a punto de "),1==t.adAccion?a("span",[t._v("activar")]):t._e(),2==t.adAccion?a("span",[t._v("desactivar")]):t._e(),t._v(" el item "+t._s(t.adNombre)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-3"},on:{click:function(e){return t.close()}}},[t._v("Cancelar")]),1==t.adAccion?a("v-btn",{attrs:{color:"red darken-4"},on:{click:function(e){return t.activar()}}},[t._v("Activar")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"red darken-4"},on:{click:function(e){return t.desactivar()}}},[t._v("Desactivar")]):t._e()],1)],1)],1)],1)]},proxy:!0},{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"blue--text text--lighten-4"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text text--lighten-4"},[t._v("Inactivo")])])]}},{key:"item.opciones",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},[t._v("mdi-pencil")]),o.estado?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivar(2,o)}}},[t._v("block")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivar(1,o)}}},[t._v("check")])]]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Reiniciar")])]},proxy:!0}])})],1)],1)},_t=[],gt={data:function(){return{dialog:!1,search:"",categorias:[],headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre",value:"nombre",sortable:!0},{text:"Descipción",value:"descripcion",sortable:!1},{text:"Estado",value:"estado",sortable:!0}],desserts:[],editedIndex:-1,_id:"",nombre:"",descripcion:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo registro":"Editar registro"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{limpiar:function(){this._id="",this.nombre="",this.descripcion="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<1||this.nombre.length>50)&&this.validaMensaje.push("El nombre de la categoria no puede estar en blanco ni debe ser mayor a 50 caracteres"),(this.descripcion.length<1||this.descripcion.length>250)&&this.validaMensaje.push("La descripción no puede estar en blanco ni debe ser mayor a 250 caracteres"),this.validaMensaje.length&&(this.valida=1),this.valida},listar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};W.a.get("categoria/list",a).then((function(e){t.categorias=e.data})).catch((function(t){console.log(t)}))},guardar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};this.validar()||(this.editedIndex>-1?W.a.put("categoria/update",{nombre:this.nombre,descripcion:this.descripcion,_id:this._id},a).then((function(e){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})):W.a.post("categoria/add",{nombre:this.nombre,descripcion:this.descripcion},a).then((function(e){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})))},editItem:function(t){this._id=t._id,this.nombre=t.nombre,this.descripcion=t.descripcion,this.dialog=!0,this.editedIndex=1},activarDesactivar:function(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e._id,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};W.a.put("categoria/activate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desactivar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};W.a.put("categoria/deactivate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},close:function(){this.dialog=!1,this.adModal=0}}},xt=gt,kt=Object(d["a"])(xt,ft,_t,!1,null,null,null),Ct=kt.exports;v()(kt,{VBtn:j["a"],VCard:st["a"],VCardActions:rt["a"],VCardText:rt["b"],VCardTitle:rt["c"],VCol:m["a"],VContainer:h["a"],VDataTable:nt["a"],VDialog:ct["a"],VDivider:lt["a"],VFlex:dt["a"],VIcon:V["a"],VLayout:ut["a"],VRow:b["a"],VSpacer:P["a"],VTextField:mt["a"],VToolbar:ht["a"],VToolbarTitle:F["a"]});var yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",lg5:"",x14:""}},[a("v-card",[a("v-toolbar",{attrs:{dark:""}},[a("v-toolbar-title",[t._v("Acceso al sistema")])],1),a("v-card-text",[a("v-text-field",{attrs:{autofocus:"",color:"accent",label:"Email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{color:"accent",label:"Contraseña",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t.errorM?a("v-flex",{staticClass:"red--text"},[t._v(t._s(t.errorM))]):t._e()],1),a("v-card-actions",{staticClass:"px-3 pb-3"},[a("v-flex",{attrs:{"text-xs-center":""}},[a("v-btn",{attrs:{color:"primary"},on:{click:t.ingresar}},[t._v("Ingresar")])],1)],1)],1)],1)],1)},jt=[],At={data:function(){return{email:"",password:"",errorM:null}},methods:{ingresar:function(){var t=this;W.a.post("usuario/login",{email:this.email,password:this.password}).then((function(t){return t.data})).then((function(e){t.$store.dispatch("guardarToken",e.tokenReturn),t.$router.push({name:"Home"})})).catch((function(e){t.errorM=null,404==e.response.status?t.errorM="No existe el usuario o las credenciales son incorrectas":t.errorM="Error en el servidor"}))}}},Vt=At,Mt=Object(d["a"])(Vt,yt,jt,!1,null,null,null),It=Mt.exports;v()(Mt,{VBtn:j["a"],VCard:st["a"],VCardActions:rt["a"],VCardText:rt["b"],VFlex:dt["a"],VLayout:ut["a"],VTextField:mt["a"],VToolbar:ht["a"],VToolbarTitle:F["a"]});var wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.usuarios,search:t.search,"sort-by":"calories"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{text:"",color:"gray"}},[a("v-toolbar-title",[t._v("Usuarios")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{name:"search","append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",i,!1),o),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-select",{attrs:{items:t.roles,label:"Rol"},model:{value:t.rol,callback:function(e){t.rol=e},expression:"rol"}})],1),a("v-col",{attrs:{col:"12",sm:"6",md:"6"}},[a("v-select",{attrs:{items:t.documentos,label:"Documento"},model:{value:t.tipo_documento,callback:function(e){t.tipo_documento=e},expression:"tipo_documento"}})],1),a("v-col",{attrs:{col:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Num. Documento"},model:{value:t.num_documento,callback:function(e){t.num_documento=e},expression:"num_documento"}})],1),a("v-col",{attrs:{col:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Dirección"},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),a("v-col",{attrs:{col:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Teléfono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),a("v-col",{attrs:{col:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Correo Electrónico"},model:{value:t.mail,callback:function(e){t.mail=e},expression:"mail"}})],1),a("v-col",{attrs:{col:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{type:"password",label:"Contraseña"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],staticStyle:{},attrs:{cols:"12",sm:"12",md:"12"}},t._l(t.validaMensaje,(function(e){return a("v-list",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1"},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1"},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Activar Item")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Desactivar Item")]):t._e(),a("v-card-text",[t._v(" Estas a punto de "),1==t.adAccion?a("span",[t._v("activar")]):t._e(),2==t.adAccion?a("span",[t._v("desactivar")]):t._e(),t._v(" el item "+t._s(t.adNombre)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-3"},on:{click:function(e){return t.close()}}},[t._v("Cancelar")]),1==t.adAccion?a("v-btn",{attrs:{color:"red darken-4"},on:{click:function(e){return t.activar()}}},[t._v("Activar")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"red darken-4"},on:{click:function(e){return t.desactivar()}}},[t._v("Desactivar")]):t._e()],1)],1)],1)],1)]},proxy:!0},{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"blue--text text--lighten-4"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text text--lighten-4"},[t._v("Inactivo")])])]}},{key:"item.opciones",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},[t._v("mdi-pencil")]),o.estado?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivar(2,o)}}},[t._v("block")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivar(1,o)}}},[t._v("check")])]]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Reiniciar")])]},proxy:!0}])})],1)],1)},Dt=[],Nt={data:function(){return{dialog:!1,search:"",usuarios:[],headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre",value:"nombre",sortable:!0},{text:"Rol",value:"rol",sortable:!1},{text:"Documento",value:"tipo_documento",sortable:!0},{text:"# Documento",value:"num_documento",sortable:!1},{text:"Dirección",value:"direccion",sortable:!1},{text:"Teléfono",value:"telefono",sortable:!0},{text:"Email",value:"email",sortable:!1},{text:"Estado",value:"estado",sortable:!0}],editedIndex:-1,_id:"",nombre:"",roles:["Administrador","Almacenero","Vendedor"],rol:"",documentos:["INE","Cedula","Licencia Conducir"],tipo_documento:"",num_documento:"",direccion:"",telefono:"",mail:"",password:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo registro":"Editar registro"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{limpiar:function(){this._id="",this.nombre="",this.rol="",this.tipo_documento="",this.num_documento="",this.telefono="",this.direccion="",this.telefono="",this.mail="",this.password="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<1||this.nombre.length>50)&&this.validaMensaje.push("El nombre del usuario no puede estar en blanco ni debe ser mayor a 50 caracteres"),this.rol||this.validaMensaje.push("Se le debe asignar un rol al usuario"),this.num_documento.length>20&&this.validaMensaje.push("El número de documento no debe ser mayor a 20 caracteres"),this.telefono.length>20&&this.validaMensaje.push("La dirección no debe ser mayor a 20 caracteres"),this.direccion.length>50&&this.validaMensaje.push("La dirección no debe ser mayor a 50 caracteres"),(this.mail.length<1||this.mail.length>50)&&this.validaMensaje.push("El correo del usuario no puede estar en blanco ni debe ser mayor a 50 caracteres"),(this.password.length<1||this.password.length>70)&&this.validaMensaje.push("La contraseña no puede estar en blanco ni debe ser mayor a 16 caracteres"),this.validaMensaje.length&&(this.valida=1),this.valida},listar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};W.a.get("usuario/list",a).then((function(e){t.usuarios=e.data})).catch((function(t){console.log(t)}))},guardar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};this.validar()||(this.editedIndex>-1?W.a.put("usuario/update",{rol:this.rol,nombre:this.nombre,tipo_documento:this.tipo_documento,num_documento:this.num_documento,direccion:this.direccion,telefono:this.telefono,email:this.mail,password:this.password,_id:this._id},a).then((function(e){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})):W.a.post("usuario/add",{rol:this.rol,nombre:this.nombre,tipo_documento:this.tipo_documento,num_documento:this.num_documento,direccion:this.direccion,telefono:this.telefono,email:this.mail,password:this.password},a).then((function(e){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})))},editItem:function(t){this._id=t._id,this.rol=t.rol,this.nombre=t.nombre,this.tipo_documento=t.tipo_documento,this.num_documento=t.num_documento,this.direccion=t.direccion,this.telefono=t.telefono,this.mail=t.email,this.password=t.password,this.dialog=!0,this.editedIndex=1},activarDesactivar:function(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e._id,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};W.a.put("usuario/activate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desactivar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};W.a.put("usuario/deactivate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},close:function(){this.dialog=!1,this.adModal=0,this.limpiar()}}},Tt=Nt,Et=Object(d["a"])(Tt,wt,Dt,!1,null,null,null),St=Et.exports;v()(Et,{VBtn:j["a"],VCard:st["a"],VCardActions:rt["a"],VCardText:rt["b"],VCardTitle:rt["c"],VCol:m["a"],VContainer:h["a"],VDataTable:nt["a"],VDialog:ct["a"],VDivider:lt["a"],VFlex:dt["a"],VIcon:V["a"],VLayout:ut["a"],VList:M["a"],VRow:b["a"],VSelect:vt["a"],VSpacer:P["a"],VTextField:mt["a"],VToolbar:ht["a"],VToolbarTitle:F["a"]});var Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.personas,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{text:"",color:"gray"}},[a("v-toolbar-title",[t._v("Clientes")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{name:"search","append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",i,!1),o),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-col",{attrs:{col:"12",sm:"6",md:"6"}},[a("v-select",{attrs:{items:t.documentos,label:"Documento"},model:{value:t.tipo_documento,callback:function(e){t.tipo_documento=e},expression:"tipo_documento"}})],1),a("v-col",{attrs:{col:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Num. Documento"},model:{value:t.num_documento,callback:function(e){t.num_documento=e},expression:"num_documento"}})],1),a("v-col",{attrs:{col:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Dirección"},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),a("v-col",{attrs:{col:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Teléfono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),a("v-col",{attrs:{col:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Correo Electrónico"},model:{value:t.mail,callback:function(e){t.mail=e},expression:"mail"}})],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],staticStyle:{},attrs:{cols:"12",sm:"12",md:"12"}},t._l(t.validaMensaje,(function(e){return a("v-list",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1"},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1"},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Activar Item")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Desactivar Item")]):t._e(),a("v-card-text",[t._v(" Estas a punto de "),1==t.adAccion?a("span",[t._v("activar")]):t._e(),2==t.adAccion?a("span",[t._v("desactivar")]):t._e(),t._v(" el item "+t._s(t.adNombre)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-3"},on:{click:function(e){return t.close()}}},[t._v("Cancelar")]),1==t.adAccion?a("v-btn",{attrs:{color:"red darken-4"},on:{click:function(e){return t.activar()}}},[t._v("Activar")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"red darken-4"},on:{click:function(e){return t.desactivar()}}},[t._v("Desactivar")]):t._e()],1)],1)],1)],1)]},proxy:!0},{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"blue--text text--lighten-4"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text text--lighten-4"},[t._v("Inactivo")])])]}},{key:"item.opciones",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},[t._v("mdi-pencil")]),o.estado?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivar(2,o)}}},[t._v("block")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivar(1,o)}}},[t._v("check")])]]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Reiniciar")])]},proxy:!0}])})],1)],1)},Ft=[],Ot={data:function(){return{dialog:!1,search:"",personas:[],headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre",value:"nombre",sortable:!0},{text:"Tipo Persona",value:"tipo_persona",sortable:!1},{text:"Documento",value:"tipo_documento",sortable:!0},{text:"# Documento",value:"num_documento",sortable:!1},{text:"Dirección",value:"direccion",sortable:!1},{text:"Teléfono",value:"telefono",sortable:!0},{text:"Email",value:"email",sortable:!1},{text:"Estado",value:"estado",sortable:!0}],editedIndex:-1,_id:"",nombre:"",documentos:["INE","Cedula","Licencia Conducir"],tipo_documento:"",num_documento:"",direccion:"",telefono:"",mail:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo registro":"Editar registro"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{limpiar:function(){this._id="",this.nombre="",this.tipo_documento="",this.num_documento="",this.telefono="",this.direccion="",this.telefono="",this.mail="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<1||this.nombre.length>50)&&this.validaMensaje.push("* El nombre de la persona no puede estar en blanco ni debe ser mayor a 50 caracteres"),this.num_documento.length>20&&this.validaMensaje.push("* El número de documento no debe ser mayor a 20 caracteres"),this.direccion.length>70&&this.validaMensaje.push("* La dirección no debe ser mayor a 20 caracteres"),this.telefono.length>20&&this.validaMensaje.push("* El teléfono no debe ser mayor a 20 caracteres"),(this.mail.length<1||this.mail.length>50)&&this.validaMensaje.push("* El correo del cliente no puede estar en blanco ni debe ser mayor a 50 caracteres"),this.validaMensaje.length&&(this.valida=1),this.valida},listar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};W.a.get("persona/listClientes",a).then((function(e){t.personas=e.data})).catch((function(t){console.log(t)}))},guardar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};this.validar()||(this.editedIndex>-1?W.a.put("persona/update",{tipo_persona:"Cliente",nombre:this.nombre,tipo_documento:this.tipo_documento,num_documento:this.num_documento,direccion:this.direccion,telefono:this.telefono,email:this.mail,_id:this._id},a).then((function(e){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})):W.a.post("persona/add",{tipo_persona:"Cliente",nombre:this.nombre,tipo_documento:this.tipo_documento,num_documento:this.num_documento,direccion:this.direccion,telefono:this.telefono,email:this.mail},a).then((function(e){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})))},editItem:function(t){this._id=t._id,this.nombre=t.nombre,this.tipo_documento=t.tipo_documento,this.num_documento=t.num_documento,this.direccion=t.direccion,this.telefono=t.telefono,this.mail=t.email,this.dialog=!0,this.editedIndex=1},activarDesactivar:function(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e._id,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};W.a.put("persona/activate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desactivar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};W.a.put("persona/deactivate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},close:function(){this.dialog=!1,this.adModal=0,this.limpiar()}}},$t=Ot,Lt=Object(d["a"])($t,Pt,Ft,!1,null,null,null),zt=Lt.exports;v()(Lt,{VBtn:j["a"],VCard:st["a"],VCardActions:rt["a"],VCardText:rt["b"],VCardTitle:rt["c"],VCol:m["a"],VContainer:h["a"],VDataTable:nt["a"],VDialog:ct["a"],VDivider:lt["a"],VFlex:dt["a"],VIcon:V["a"],VLayout:ut["a"],VList:M["a"],VRow:b["a"],VSelect:vt["a"],VSpacer:P["a"],VTextField:mt["a"],VToolbar:ht["a"],VToolbarTitle:F["a"]});var Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.personas,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{text:"",color:"gray"}},[a("v-toolbar-title",[t._v("Proveedores")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{name:"search","append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",i,!1),o),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-col",{attrs:{col:"12",sm:"6",md:"6"}},[a("v-select",{attrs:{items:t.documentos,label:"Documento"},model:{value:t.tipo_documento,callback:function(e){t.tipo_documento=e},expression:"tipo_documento"}})],1),a("v-col",{attrs:{col:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Num. Documento"},model:{value:t.num_documento,callback:function(e){t.num_documento=e},expression:"num_documento"}})],1),a("v-col",{attrs:{col:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Dirección"},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),a("v-col",{attrs:{col:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Teléfono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),a("v-col",{attrs:{col:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Correo Electrónico"},model:{value:t.mail,callback:function(e){t.mail=e},expression:"mail"}})],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],staticStyle:{},attrs:{cols:"12",sm:"12",md:"12"}},t._l(t.validaMensaje,(function(e){return a("v-list",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1"},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1"},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Activar Item")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Desactivar Item")]):t._e(),a("v-card-text",[t._v(" Estas a punto de "),1==t.adAccion?a("span",[t._v("activar")]):t._e(),2==t.adAccion?a("span",[t._v("desactivar")]):t._e(),t._v(" el item "+t._s(t.adNombre)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-3"},on:{click:function(e){return t.close()}}},[t._v("Cancelar")]),1==t.adAccion?a("v-btn",{attrs:{color:"red darken-4"},on:{click:function(e){return t.activar()}}},[t._v("Activar")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"red darken-4"},on:{click:function(e){return t.desactivar()}}},[t._v("Desactivar")]):t._e()],1)],1)],1)],1)]},proxy:!0},{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"blue--text text--lighten-4"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text text--lighten-4"},[t._v("Inactivo")])])]}},{key:"item.opciones",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},[t._v("mdi-pencil")]),o.estado?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivar(2,o)}}},[t._v("block")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivar(1,o)}}},[t._v("check")])]]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Reiniciar")])]},proxy:!0}])})],1)],1)},Rt=[],qt={data:function(){return{dialog:!1,search:"",personas:[],headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre",value:"nombre",sortable:!0},{text:"Tipo Persona",value:"tipo_persona",sortable:!1},{text:"Documento",value:"tipo_documento",sortable:!0},{text:"# Documento",value:"num_documento",sortable:!1},{text:"Dirección",value:"direccion",sortable:!1},{text:"Teléfono",value:"telefono",sortable:!0},{text:"Email",value:"email",sortable:!1},{text:"Estado",value:"estado",sortable:!0}],editedIndex:-1,_id:"",nombre:"",documentos:["INE","Cedula","Licencia Conducir"],tipo_documento:"",num_documento:"",direccion:"",telefono:"",mail:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo registro":"Editar registro"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{limpiar:function(){this._id="",this.nombre="",this.tipo_documento="",this.num_documento="",this.telefono="",this.direccion="",this.telefono="",this.mail="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<1||this.nombre.length>50)&&this.validaMensaje.push("* El nombre de la persona no puede estar en blanco ni debe ser mayor a 50 caracteres"),this.num_documento.length>20&&this.validaMensaje.push("* El número de documento no debe ser mayor a 20 caracteres"),this.direccion.length>70&&this.validaMensaje.push("* La dirección no debe ser mayor a 20 caracteres"),this.telefono.length>20&&this.validaMensaje.push("* El teléfono no debe ser mayor a 20 caracteres"),(this.mail.length<1||this.mail.length>50)&&this.validaMensaje.push("* El correo del cliente no puede estar en blanco ni debe ser mayor a 50 caracteres"),this.validaMensaje.length&&(this.valida=1),this.valida},listar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};W.a.get("persona/listProveedores",a).then((function(e){t.personas=e.data})).catch((function(t){console.log(t)}))},guardar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};this.validar()||(this.editedIndex>-1?W.a.put("persona/update",{tipo_persona:"Proveedor",nombre:this.nombre,tipo_documento:this.tipo_documento,num_documento:this.num_documento,direccion:this.direccion,telefono:this.telefono,email:this.mail,_id:this._id},a).then((function(e){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})):W.a.post("persona/add",{tipo_persona:"Proveedor",nombre:this.nombre,tipo_documento:this.tipo_documento,num_documento:this.num_documento,direccion:this.direccion,telefono:this.telefono,email:this.mail},a).then((function(e){t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})))},editItem:function(t){this._id=t._id,this.nombre=t.nombre,this.tipo_documento=t.tipo_documento,this.num_documento=t.num_documento,this.direccion=t.direccion,this.telefono=t.telefono,this.mail=t.email,this.dialog=!0,this.editedIndex=1},activarDesactivar:function(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e._id,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};W.a.put("persona/activate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desactivar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};W.a.put("persona/deactivate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},close:function(){this.dialog=!1,this.adModal=0,this.limpiar()}}},Bt=qt,Gt=Object(d["a"])(Bt,Ut,Rt,!1,null,null,null),Ht=Gt.exports;v()(Gt,{VBtn:j["a"],VCard:st["a"],VCardActions:rt["a"],VCardText:rt["b"],VCardTitle:rt["c"],VCol:m["a"],VContainer:h["a"],VDataTable:nt["a"],VDialog:ct["a"],VDivider:lt["a"],VFlex:dt["a"],VIcon:V["a"],VLayout:ut["a"],VList:M["a"],VRow:b["a"],VSelect:vt["a"],VSpacer:P["a"],VTextField:mt["a"],VToolbar:ht["a"],VToolbarTitle:F["a"]});var Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[t.verNuevo?t._e():a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.ingresos,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{text:"",color:"gray"}},[a("v-toolbar-title",[t._v("Ingresos")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{name:"search","append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.mostrarNuevo()}}},[t._v(" Nuevo ")]),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Seleccione un articulo")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1"},on:{click:t.close}},[t._v("Cancelar")])],1)],1)],1)],1)]},proxy:!0},{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"blue--text text--lighten-4"},[t._v("Aceptado")])]):a("div",[a("span",{staticClass:"red--text text--lighten-4"},[t._v("Rechazado")])])]}},{key:"item.opciones",fn:function(e){var o=e.item;return[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.verIngreso(o)}}},[t._v("tab")]),o.estado?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivar(2,o)}}},[t._v("block")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivar(1,o)}}},[t._v("check")])]]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Reiniciar")])]},proxy:!0}],null,!1,2429161456)}),t.verNuevo?a("v-container",{staticClass:"pa-4",attrs:{"grid-list-sm":""}},[a("v-row",[a("v-col",{attrs:{cols:"12",xs:"12",sm:"4",md:"4",lg:"4"}},[a("v-select",{attrs:{items:t.comprobantes,label:"Tipo Comprobante"},model:{value:t.tipo_comprobante,callback:function(e){t.tipo_comprobante=e},expression:"tipo_comprobante"}})],1),a("v-col",{attrs:{cols:"12",xs:"12",sm:"4",md:"4",lg:"4"}},[a("v-text-field",{attrs:{label:"Serie Comprobante"},model:{value:t.serie_comprobante,callback:function(e){t.serie_comprobante=e},expression:"serie_comprobante"}})],1),a("v-col",{attrs:{cols:"12",xs:"12",sm:"4",md:"4",lg:"4"}},[a("v-text-field",{attrs:{label:"Número comprobante"},model:{value:t.num_comprobante,callback:function(e){t.num_comprobante=e},expression:"num_comprobante"}})],1),a("v-col",{attrs:{cols:"12",xs:"12",sm:"8",md:"8",lg:"8"}},[a("v-autocomplete",{attrs:{items:t.personas,label:"Proveedor"},model:{value:t.persona,callback:function(e){t.persona=e},expression:"persona"}})],1),a("v-col",{attrs:{cols:"12",xs:"12",sm:"4",md:"4",lg:"4"}},[a("v-text-field",{attrs:{type:"number",label:"Impuesto"},model:{value:t.impuesto,callback:function(e){t.impuesto=e},expression:"impuesto"}})],1),a("v-col",{attrs:{cols:"12",xs:"12",sm:"8",md:"8",lg:"8"}},[a("v-text-field",{attrs:{label:"Código de barras"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.buscarCodigo()}},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),a("v-col",{attrs:{cols:"12",xs:"12",sm:"1",md:"1",lg:"1"}},[a("v-btn",{attrs:{small:"",fab:"",dark:"",color:"teal"},on:{click:function(e){return t.mostrarModalArticulos()}}},[a("v-icon",{attrs:{dark:""}},[t._v("list")])],1)],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:t.errorArticulo,expression:"errorArticulo"}],attrs:{cols:"12",xs:"12",sm:"3",md:"3",lg:"3"}},[a("div",{staticClass:"red--text",domProps:{textContent:t._s(t.errorArticulo)}})]),a("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"12",lg:"12"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalles,items:t.detalles,"hide-default-footer":""},scopedSlots:t._u([{key:"item.borrar",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.eliminaDetalle(t.detalles,o)}}},[t._v("delete")])]}},{key:"item.subtotal",fn:function(e){var a=e.item;return[t._v(" $ "+t._s(a.precio*a.cantidad)+" ")]}},{key:"item.cantidad",fn:function(e){var o=e.item;return[a("v-text-field",{attrs:{type:"number"},model:{value:o.cantidad,callback:function(e){t.$set(o,"cantidad",e)},expression:"item.cantidad"}})]}},{key:"item.precio",fn:function(e){var o=e.item;return[a("v-text-field",{attrs:{type:"number"},model:{value:o.precio,callback:function(e){t.$set(o,"precio",e)},expression:"item.precio"}})]}}],null,!1,2354916591)}),a("v-flex",{staticStyle:{}},[a("strong",[t._v("Total parcial ")]),t._v("$ "+t._s(t.totalParcial=(t.total-t.totalImpuesto).toFixed(2))+" ")]),a("v-flex",{staticStyle:{}},[a("strong",[t._v("Total impuesto ")]),t._v("$ "+t._s(t.totalImpuesto=(t.total*t.impuesto/(1+t.impuesto)).toFixed(2))+" ")]),a("v-flex",{staticStyle:{}},[a("strong",[t._v("Total neto ")]),t._v("$ "+t._s(t.total=t.totalT)+" ")])],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],staticStyle:{},attrs:{cols:"12",xs:"12",sm:"12",md:"12",lg:"12"}},t._l(t.validaMensaje,(function(e){return a("v-list",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),1),a("v-btn",{attrs:{color:"blue darken-1"},nativeOn:{click:function(e){return t.ocultarNuevo()}}},[t._v("Cancelar")]),0==t.verDetalle?a("v-btn",{attrs:{color:"success"},nativeOn:{click:function(e){return t.guardar()}}},[t._v("Guardar")]):t._e()],1),t.verNuevo?a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.detaMod,callback:function(e){t.detaMod=e},expression:"detaMod"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Seleccione un artículo")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.listarArticulos()}},model:{value:t.texto,callback:function(e){t.texto=e},expression:"texto"}}),a("v-data-table",{attrs:{headers:t.headersArticulo,items:t.articulos,"hide-default-footer":""},scopedSlots:t._u([{key:"item.seleccionar",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"mr-2",attrs:{color:"success"},on:{click:function(e){return t.agregarDetalles(o)}}},[a("v-icon",{attrs:{small:""}},[t._v("add")])],1)]}},{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"blue--text text--lighten-4"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text text--lighten-4"},[t._v("Inactivo")])])]}}],null,!1,3015060047)})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1"},on:{click:function(e){return t.ocultarModArt()}}},[t._v("Cancelar")])],1)],1)],1):t._e()],1):t._e(),a("v-dialog",{attrs:{"max-width":"320px"},model:{value:t.actDesMod,callback:function(e){t.actDesMod=e},expression:"actDesMod"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v(" Activar Item ")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v(" Desactivar Item ")]):t._e(),a("v-card-text",[t._v(" Estás a punto de "),1==t.adAccion?a("span",[t._v("activar ")]):t._e(),2==t.adAccion?a("span",[t._v("desactivar ")]):t._e(),t._v(" el item "+t._s(t.adNombre)+" ")]),a("v-card-actions",[a("v-btn",{attrs:{color:"green darken-1"},on:{click:function(e){return t.activarDesactivarCerrar()}}},[t._v(" Cancelar ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4"},on:{click:function(e){return t.activar()}}},[t._v(" Activar ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4"},on:{click:function(e){return t.desactivar()}}},[t._v(" Desactivar ")]):t._e()],1)],1)],1)],1)],1)},Kt=[],Xt=(a("c975"),a("a434"),{data:function(){return{dialog:!1,search:"",ingresos:[],headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Usuario",value:"usuario.nombre",sortable:!0},{text:"Proveedor",value:"persona.nombre",sortable:!0},{text:"Comprobante",value:"tipo_comprobante",sortable:!0},{text:"Serie Comprobante",value:"serie_comprobante",sortable:!1},{text:"Número Comprobante",value:"num_comprobante",sortable:!1},{text:"Fecha",value:"createdAt",sortable:!1},{text:"Impuesto",value:"impuesto",sortable:!1},{text:"Total",value:"total",sortable:!1},{text:"Estado",value:"estado",sortable:!0}],editedIndex:-1,_id:"",impuesto:.18,personas:[],persona:"",codigo:"",headersDetalles:[{text:"Borrar",value:"borrar",sortable:!1},{text:"Articulo",value:"articulo",sortable:!1},{text:"Cantidad",value:"cantidad",sortable:!1},{text:"Precio",value:"precio",sortable:!1},{text:"Sub Total",value:"subtotal",sortable:!1}],detalles:[],verNuevo:!1,comprobantes:["Boleta","Factura","Ticket"],num_comprobante:"",tipo_comprobante:"",serie_comprobante:"",valida:0,validaMensaje:[],actDesMod:0,adAccion:0,adNombre:"",adId:"",errorArticulo:null,total:0,totalParcial:0,totalImpuesto:0,articulos:[],texto:"",headersArticulo:[{text:"Seleccionar",value:"seleccionar",sortable:!1},{text:"Código",value:"codigo",sortable:!0},{text:"Nombre",value:"nombre",sortable:!0},{text:"Categoria",value:"categoria.nombre",sortable:!0},{text:"Stock",value:"stock",sortable:!1},{text:"Precio Venta",value:"precio_venta",sortable:!0},{text:"Descripción",value:"descripcion",sortable:!0},{text:"Estado",value:"estado",sortable:!0}],adModal:0,detaMod:0,verDetalle:0}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo registro":"Editar registro"},totalT:function(){for(var t=0,e=0;e<this.detalles.length;e++)t+=this.detalles[e].cantidad*this.detalles[e].precio;return t}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.selectProve()},methods:{limpiar:function(){this.persona="",this.tipo_comprobante="",this.num_comprobante="",this.serie_comprobante="",this.num_documento="",this.impuesto=.18,this.codigo="",this.total=0,this.totalParcial=0,this.totalImpuesto=0,this.detalles=[],this.ocultarNuevo(),this.valida=0,this.validaMensaje=[]},validar:function(){return this.valida=0,this.validaMensaje=[],this.persona||this.validaMensaje.push("Seleccione un proveedor"),this.tipo_comprobante||this.validaMensaje.push("Seleccione un tipo de comprobante"),this.num_comprobante||this.validaMensaje.push("Ingrese un numero de comprobante"),(!this.impuesto||this.impuesto<0||this.impuesto>1)&&this.validaMensaje.push("Ingrese un impuesto valido"),this.detalles.length<=0&&this.validaMensaje.push("Ingrese al menos un artpiculo a los detalles"),this.validaMensaje.length&&(this.valida=1),this.valida},selectProve:function(){var t=this,e=[],a={token:this.$store.state.token},o={headers:a};W.a.get("persona/listProveedores",o).then((function(a){e=a.data,e.map((function(e){t.personas.push({text:e.nombre,value:e._id})}))})).catch((function(t){console.log(t)}))},buscarCodigo:function(){var t=this,e={token:this.$store.state.token},a={headers:e};t.errorArticulo=null,W.a.get("articulo/queryCodigo?codigo="+this.codigo,a).then((function(e){t.agregarDetalles(e.data)})).catch((function(e){t.errorArticulo="No existe el artículo"}))},listar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};W.a.get("ingreso/list",a).then((function(e){t.ingresos=e.data})).catch((function(t){console.log(t)}))},listarArticulos:function(){var t=this,e={token:this.$store.state.token},a={headers:e};W.a.get("articulo/list?valor="+this.texto,a).then((function(e){t.articulos=e.data})).catch((function(t){console.log(t)}))},listarDetalles:function(t){var e=this,a={token:this.$store.state.token},o={headers:a};W.a.get("ingreso/query?_id="+t,o).then((function(t){e.detalles=t.data.detalles})).catch((function(t){console.log(t)}))},verIngreso:function(t){this.limpiar(),this.tipo_comprobante=t.tipo_comprobante,this.serie_comprobante=t.serie_comprobante,this.num_comprobante=t.num_comprobante,this.persona=t.persona._id,this.impuesto=t.impuesto,this.listarDetalles(t._id),this.verNuevo=1,this.verDetalle=1},guardar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};this.validar()||W.a.post("ingreso/add",{usuario:this.$store.state.usuario._id,persona:this.persona,tipo_comprobante:this.tipo_comprobante,num_comprobante:this.num_comprobante,serie_comprobante:this.serie_comprobante,impuesto:this.impuesto,total:this.total,detalles:this.detalles},a).then((function(e){t.limpiar(),t.listar()})).catch((function(t){console.log(t)}))},activarDesactivar:function(t,e){this.actDesMod=1,this.adNombre=e.num_comprobante,this.adId=e._id,1==t?this.adAccion=1:2==t?this.adAccion=2:this.actDesMod=0},activar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};W.a.put("ingreso/activate",{_id:this.adId},a).then((function(e){t.actDesMod=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desactivar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};W.a.put("ingreso/deactivate",{_id:this.adId},a).then((function(e){t.actDesMod=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},close:function(){this.dialog=!1,this.adModal=0,this.limpiar()},mostrarNuevo:function(){this.verNuevo=!0},ocultarNuevo:function(){this.verNuevo=!1,this.detalles=[],this.persona="",this.tipo_comprobante="",this.num_comprobante="",this.serie_comprobante="",this.num_documento="",this.impuesto=.18,this.codigo="",this.total=0,this.totalParcial=0,this.totalImpuesto=0,this.verDetalle=0},agregarDetalles:function(t){this.errorArticulo=null,this.validaNuevo(t._id)?this.errorArticulo="El artículo ya fue agregado":(this.detalles.push({_id:t._id,articulo:t.nombre,cantidad:1,precio:t.precio_venta}),this.codigo="")},validaNuevo:function(t){for(var e=!1,a=0;a<this.detalles.length;a++)this.detalles[a]._id==t&&(e=!0);return e},eliminaDetalle:function(t,e){this.errorArticulo=null;var a=t.indexOf(e);-1!=a&&t.splice(a,1)},mostrarModalArticulos:function(){this.detaMod=1},ocultarModArt:function(){this.detaMod=0,this.texto="",this.articulos=[]},activarDesactivarCerrar:function(){this.actDesMod=0}}}),Jt=Xt,Qt=a("c6a6"),Zt=Object(d["a"])(Jt,Wt,Kt,!1,null,null,null),Yt=Zt.exports;v()(Zt,{VAutocomplete:Qt["a"],VBtn:j["a"],VCard:st["a"],VCardActions:rt["a"],VCardText:rt["b"],VCardTitle:rt["c"],VCol:m["a"],VContainer:h["a"],VDataTable:nt["a"],VDialog:ct["a"],VDivider:lt["a"],VFlex:dt["a"],VIcon:V["a"],VLayout:ut["a"],VList:M["a"],VRow:b["a"],VSelect:vt["a"],VSpacer:P["a"],VTextField:mt["a"],VToolbar:ht["a"],VToolbarTitle:F["a"]});var te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[t.verNuevo?t._e():a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.ventas,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{text:"",color:"gray"}},[a("v-toolbar-title",[t._v("Ingresos")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{name:"search","append-icon":"search",label:"Buscar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.mostrarNuevo()}}},[t._v(" Nuevo ")]),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Seleccione un articulo")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1"},on:{click:t.close}},[t._v("Cancelar")])],1)],1)],1)],1)]},proxy:!0},{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"blue--text text--lighten-4"},[t._v("Aceptado")])]):a("div",[a("span",{staticClass:"red--text text--lighten-4"},[t._v("Rechazado")])])]}},{key:"item.total",fn:function(e){var a=e.item;return[t._v(" $ "+t._s(a.total.toFixed(2))+" ")]}},{key:"item.opciones",fn:function(e){var o=e.item;return[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.verIngreso(o)}}},[t._v("tab")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.mostrarComprobante(o)}}},[t._v("print")]),o.estado?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivar(2,o)}}},[t._v("block")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivar(1,o)}}},[t._v("check")])]]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Reiniciar")])]},proxy:!0}],null,!1,4080168417)}),t.verNuevo?a("v-container",{staticClass:"pa-4",attrs:{"grid-list-sm":""}},[a("v-row",[a("v-col",{attrs:{cols:"12",xs:"12",sm:"4",md:"4",lg:"4"}},[a("v-select",{attrs:{items:t.comprobantes,label:"Tipo Comprobante"},model:{value:t.tipo_comprobante,callback:function(e){t.tipo_comprobante=e},expression:"tipo_comprobante"}})],1),a("v-col",{attrs:{cols:"12",xs:"12",sm:"4",md:"4",lg:"4"}},[a("v-text-field",{attrs:{label:"Serie Comprobante"},model:{value:t.serie_comprobante,callback:function(e){t.serie_comprobante=e},expression:"serie_comprobante"}})],1),a("v-col",{attrs:{cols:"12",xs:"12",sm:"4",md:"4",lg:"4"}},[a("v-text-field",{attrs:{label:"Número comprobante"},model:{value:t.num_comprobante,callback:function(e){t.num_comprobante=e},expression:"num_comprobante"}})],1),a("v-col",{attrs:{cols:"12",xs:"12",sm:"8",md:"8",lg:"8"}},[a("v-autocomplete",{attrs:{items:t.personas,label:"Cliente"},model:{value:t.persona,callback:function(e){t.persona=e},expression:"persona"}})],1),a("v-col",{attrs:{cols:"12",xs:"12",sm:"4",md:"4",lg:"4"}},[a("v-text-field",{attrs:{type:"number",label:"Impuesto"},model:{value:t.impuesto,callback:function(e){t.impuesto=e},expression:"impuesto"}})],1),a("v-col",{attrs:{cols:"12",xs:"12",sm:"8",md:"8",lg:"8"}},[a("v-text-field",{attrs:{label:"Código de barras"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.buscarCodigo()}},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),a("v-col",{attrs:{cols:"12",xs:"12",sm:"1",md:"1",lg:"1"}},[a("v-btn",{attrs:{small:"",fab:"",dark:"",color:"teal"},on:{click:function(e){return t.mostrarModalArticulos()}}},[a("v-icon",{attrs:{dark:""}},[t._v("list")])],1)],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:t.errorArticulo,expression:"errorArticulo"}],attrs:{cols:"12",xs:"12",sm:"3",md:"3",lg:"3"}},[a("div",{staticClass:"red--text",domProps:{textContent:t._s(t.errorArticulo)}})]),a("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"12",lg:"12"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersDetalles,items:t.detalles,"hide-default-footer":""},scopedSlots:t._u([{key:"item.borrar",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.eliminaDetalle(t.detalles,o)}}},[t._v("delete")])]}},{key:"item.subtotal",fn:function(e){var a=e.item;return[t._v(" $ "+t._s(a.precio*a.cantidad-a.descuento)+" ")]}},{key:"item.cantidad",fn:function(e){var o=e.item;return[a("v-text-field",{attrs:{type:"number"},model:{value:o.cantidad,callback:function(e){t.$set(o,"cantidad",e)},expression:"item.cantidad"}})]}},{key:"item.precio",fn:function(e){var o=e.item;return[a("v-text-field",{attrs:{type:"number"},model:{value:o.precio,callback:function(e){t.$set(o,"precio",e)},expression:"item.precio"}})]}},{key:"item.descuento",fn:function(e){var o=e.item;return[a("v-text-field",{attrs:{type:"number"},model:{value:o.descuento,callback:function(e){t.$set(o,"descuento",e)},expression:"item.descuento"}})]}}],null,!1,2080815957)}),a("v-flex",{staticStyle:{}},[a("strong",[t._v("Total parcial ")]),t._v("$ "+t._s(t.totalParcial=(t.total-t.totalImpuesto).toFixed(2))+" ")]),a("v-flex",{staticStyle:{}},[a("strong",[t._v("Total impuesto ")]),t._v("$ "+t._s(t.totalImpuesto=(t.total*t.impuesto/(1+t.impuesto)).toFixed(2))+" ")]),a("v-flex",{staticStyle:{}},[a("strong",[t._v("Total neto ")]),t._v("$ "+t._s(t.total=t.totalT)+" ")])],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],staticStyle:{},attrs:{cols:"12",xs:"12",sm:"12",md:"12",lg:"12"}},t._l(t.validaMensaje,(function(e){return a("v-list",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),1),a("v-btn",{attrs:{color:"blue darken-1"},nativeOn:{click:function(e){return t.ocultarNuevo()}}},[t._v("Cancelar")]),0==t.verDetalle?a("v-btn",{attrs:{color:"success"},nativeOn:{click:function(e){return t.guardar()}}},[t._v("Guardar")]):t._e()],1),t.verNuevo?a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.detaMod,callback:function(e){t.detaMod=e},expression:"detaMod"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Seleccione un artículo")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.listarArticulos()}},model:{value:t.texto,callback:function(e){t.texto=e},expression:"texto"}}),a("v-data-table",{attrs:{headers:t.headersArticulo,items:t.articulos,"hide-default-footer":""},scopedSlots:t._u([{key:"item.seleccionar",fn:function(e){var o=e.item;return[a("v-btn",{staticClass:"mr-2",attrs:{color:"success"},on:{click:function(e){return t.agregarDetalles(o)}}},[a("v-icon",{attrs:{small:""}},[t._v("add")])],1)]}},{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"blue--text text--lighten-4"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text text--lighten-4"},[t._v("Inactivo")])])]}}],null,!1,3015060047)})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1"},on:{click:function(e){return t.ocultarModArt()}}},[t._v("Cancelar")])],1)],1)],1):t._e()],1):t._e(),a("v-dialog",{attrs:{"max-width":"320px"},model:{value:t.actDesMod,callback:function(e){t.actDesMod=e},expression:"actDesMod"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v(" Activar Item ")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v(" Desactivar Item ")]):t._e(),a("v-card-text",[t._v(" Estás a punto de "),1==t.adAccion?a("span",[t._v("activar ")]):t._e(),2==t.adAccion?a("span",[t._v("desactivar ")]):t._e(),t._v(" el item "+t._s(t.adNombre)+" ")]),a("v-card-actions",[a("v-btn",{attrs:{color:"green darken-1"},on:{click:function(e){return t.activarDesactivarCerrar()}}},[t._v(" Cancelar ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4"},on:{click:function(e){return t.activar()}}},[t._v(" Activar ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4"},on:{click:function(e){return t.desactivar()}}},[t._v(" Desactivar ")]):t._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.comprobanteM,callback:function(e){t.comprobanteM=e},expression:"comprobanteM"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[a("v-btn",{attrs:{text:""},on:{click:function(e){return t.crearPDF()}}},[a("v-icon",{staticClass:"mr-2"},[t._v("print")])],1),t._v(" Reporte Venta ")],1),a("v-card-text",[a("div",{attrs:{id:"factura"}},[a("header",[a("div",{attrs:{id:"logo"}},[a("img",{attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAilBMVEX////tHCTsAAD84OHtEBrxY2bsCBXtDhntFh/sABDtEx34tLbsAAv70tP0iYzze37+8/P829z3rK795eb5vsD96+zwVFj5x8jzd3rzgIP5wsTwUVX70dL1k5bvPUPwWFzxZWnwSE3uLTT1mZvzhIbvOj/uLTP4sbPvQkfyb3P+9vbuNDr2oKL0j5G/lkIGAAAHyElEQVR4nO2dbXuiOhCGYYq8+1q1aqtotbW22///9xatPUeSwAxICOw196fdvRbJA8nMZDIJlsUwDMMwDMMwDMMwDMMwDMMwDMMwDMMwDMMwDMOU5rE/newHh+FisTzsJ9OXx0/TLaqPh+i7Z0NKHLg/BPH5r35yOI47r7P/J/EBXMe3FYRuDO7z+sV0I+9hDoGj0nYrMwDoHWemW1qVHqbvByeGJDLd1moQFZ5FAgzHpptbAbrCFBd2U9MNLk0phemYhNej6SaXpKRC2/bhvVvvsbTCs8aP9rqPz61oKyooPPfV08hI+1EiFx6Ef6qkMLU5wcSIgmJGCdh1KbRteG5dDLCKPbtGhal/bJnFWcLlydenMP2xhRElaka72K5doR28taanjt2rkHoV2mHcEr8xhd+5Uc0KU9/YihDnD/zXoroVpr+4NqIpwwBu2lO7QhuWRlTdsITb5tSv0LhJzQjUotCwxAFkG6NDodGO+geEtmhRaNDcTEFsih6Ftimn0RcFalNogxHXP3KlJKg2hX5sIoD7kFuvTaEdvjUvcBnL7dCn0A4a9xkraRDqVWg3PV8cKd6gXoU2NDsUE69xhc5zkwIjVR/VrNCGBtNTn25OG7QqtIPmkoyLKgp972dh9LJU6ikXFBHcU1MCx+o+WqDQdwHeT+voqT9+GPefovXpFUCOGDCg35DCXVhOoQf+ciVawtlq6UNOX8gj3DUjUOkK8xUGcMqLKl8WcVBKYkNO8Su3d8kKvQD2RfZhtIcyGv1XncJ+yfEUSoUJfKO/twalb825QxOL4fmvUFb4/Uj4wVkv/5lJL/FLh6Qs+aNQoZBIBHm2S77Fql45Cp4LGlNVoTXbUEdjqD12y/WFdym0rC21p4Luio1lkQu7Q6F1IEp0h/WJUVLYjnsUWt9EiVCbFiVSeq0+hWLyNfcmeh1GUjhZuE+htSWZGyepSYuSUfFjvlOhtSE5Da2T/YJ4hqBwPFkmu80uWU5y7OFMmRuR7qKzm26LZ7RFCtMoG2LX8X3fcdM/LZTRePEwv+L0dMmzEEtapHC1EWZKLmxU0UmPEqNqtKZyHp+mcPYMcjDrq2pmZpSXqDHHv0eMXY7CI6g7t6NYcVkT7Gmw16Zwjtg6tcICPwcD6X8TXmI416YQy5wpFS4KI1kpWb8n2FNPl8AH7PmqFCKRivQW1dl04SJd0XeE3VyhEPGgCu+Wl6q8IdblEQfYvWWFBNsohigv+CWuPHzroTgoVSqc40lvR7QbNppHDXWFpuitJYVPJPf2lL2ocAp6wbf1CPxEmysp/KCE0uFH9qKiTNDvjfRsl3osrRCLgX4vyybrKWOXksMrD95eUeGQlrUXExOv6EDUtICBB/6iQmoCLchedkLDb03Z/QnqiwWFhXm5zHVZD47HprGexVIs7pYU4o9E3WA0stAVe6MOX1R4oC6euYfMdbiP0eTy8QYLCslr3MKsHTdpwiOpC9wyCuMpdyVVRFj5xMevprQwHhIL73BDXcb2N5nr0DmM7eqpkPr33yFhHGYdcefGIcGWZmPoztlS3B8KM9PO+UO8wUG2ILtzMQ0el3pC0VLX4lLcAPjv2Su6NrfA54dizqVr80N8ji9VSnRsjk9IEbnC9paO5WmsBH0jvi9egq8leWKuzTeXa8NdvrQs1LF8Ke6J5ZC4WzlvigePxUpEpIhEKu0zum5hESyjHE8NC9eepEkCHhumkbougej64aXN0lUFb1FRnGl2/ZDyfAN5s2CUuwYsjyfDa8AEM6csd5nNFeWVIczbt45P6UK2p3JWTx9SLcbHk+L/Efyn3so2pJ7m2gClLe8Pg3M9TeiH53qaYKiMnVHfckZrPQ2pBbllWePJobfb7HqH3Joo2s/rrIlC6tquVN4O+Uara9O6OQhdBr4QbCv9eBtqE4nd1IYquTBilbDuDQnUQt7ysTGxgFZ3jTBh8nZtR9m3SK7z1n3CAj1/ti31u+2p1S/cb5GhzCFIs7f27LegZFF+G0O2Ce3aM1O070lqTkJ5jbOkXfueqA7jgkfYu/bdur1rhITtDQGsO7f/kFZufqsxfw/pqZS+5g5WIK98XvHAGU6lfcDToVOmf55pah8wNVl/y3kv93Z9vO7lPq6371B2m7Pd4F5u61S+cekYcm7246sP+EZobj++NSo3euqiwTMVrGP5fno/zZ4WNS9pI2pAWt/QC20PVq00fVRUSad4P82fSTts9i3GBs4W3NR69gyCs8EbVDuzoIpPq4YfGDlwt0JoUxUzZ+6Vm0fdJ9DYxy/2zUgEfWtNKNQM4H0C9RQiEilc4K1JoO5jIkxLNC1Qe0c120V/0GpuTBqZ/4kUW9HroSVnsqeuH/1sVTWcoCXn6p8PQdIRhseb1nwbwdJiUk0fxi4yjeud9Xtxy75RcqmZqVGgqtbGPMegSpJRhRu0xIaKjE70VbIC2vu9p5T+7m7f6MOuscx2Jaavd2n04bV1FkYi+qrcV0P46saHHlfPFVZdzqs3zw0sYdfEeAk5NaV5dPAbllFCF5nK6+R3SGdRDyDAxuTlW7JRG/07jZf93IHYDVX21T9/D9ibd/t7wBfG0SBRf9N5EHVs6BXx+fNd7uVwOFwO/rXvcjMMwzAMwzAMwzAMwzAMwzAMwzAMwzAMwzAMwzTGXxaidiHpPPEhAAAAAElFTkSuQmCC",id:"imagen"}})]),a("div",{attrs:{id:"datos"}},[a("p",{attrs:{id:"encabezado"}},[a("b",[t._v("IncanatoIT")]),a("br"),t._v("José Gálvez 1368, Chongoyape - Chiclayo, Perú"),a("br"),t._v("Telefono:(+51)931742904"),a("br"),t._v("Email:jcarlos.ad7@gmail.com ")])]),a("div",{attrs:{id:"fact"}},[a("p",[t._v(" "+t._s(t.tipo_comprobante)),a("br"),t._v(" "+t._s(t.serie_comprobante)+" - "+t._s(t.num_comprobante)+" "),a("br"),t._v(" "+t._s(t.fecha)+" ")])])]),a("br"),a("section",[a("div",[a("table",{attrs:{id:"facliente"}},[a("tbody",[a("tr",[a("td",{attrs:{id:"cliente"}},[a("strong",[t._v("Sr(a). "+t._s(t.persona.nombre))]),a("br"),a("strong",[t._v("Documento: ")]),t._v(" "+t._s(t.persona.num_documento)+" "),a("br"),a("strong",[t._v("Dirección: ")]),t._v(" "+t._s(t.persona.direccion)+" "),a("br"),a("strong",[t._v("Teléfono: ")]),t._v(" "+t._s(t.persona.telefono)+" "),a("br"),a("strong",[t._v("Email: ")]),t._v(" "+t._s(t.persona.email)+" ")])])])])])]),a("br"),a("section",[a("div",[a("table",{attrs:{id:"facarticulo"}},[a("thead",[a("tr",{attrs:{id:"fa"}},[a("th",[t._v("CANT")]),a("th",[t._v("DESCRIPCION")]),a("th",[t._v("PRECIO UNIT")]),a("th",[t._v("DESC.")]),a("th",[t._v("PRECIO TOTAL")])])]),a("tbody",[t._l(t.detalles,(function(e){return a("tr",{key:e._id},[a("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.cantidad)+" ")]),a("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.articulo)+" ")]),a("td",{staticStyle:{"text-align":"center"}},[t._v(" $ "+t._s(e.precio.toFixed(2))+" ")]),a("td",{staticStyle:{"text-align":"center"}},[t._v(" $ "+t._s(e.descuento)+" ")]),a("td",{staticStyle:{"text-align":"center"}},[t._v(" $ "+t._s((e.cantidad*e.precio-e.descuento).toFixed(2))+" ")])])})),a("tr")],2),a("tfoot",[a("tr",[a("th"),a("th"),a("th"),a("th",{staticStyle:{"text-align":"right"}},[t._v("SUBTOTAL")]),a("th",{staticStyle:{"text-align":"right"}},[t._v(" $ "+t._s(t.totalParcial=(t.total-t.totalImpuesto).toFixed(2))+" ")])]),a("tr",[a("th"),a("th"),a("th"),a("th",{staticStyle:{"text-align":"right"}},[t._v("IVA "+t._s(t.impuesto))]),a("th",{staticStyle:{"text-align":"right"}},[t._v(" $ "+t._s(t.totalImpuesto=(t.total*t.impuesto/(1+t.impuesto)).toFixed(2))+" ")])]),a("tr",[a("th"),a("th"),a("th"),a("th",{staticStyle:{"text-align":"right"}},[t._v("TOTAL")]),a("th",{staticStyle:{"text-align":"right"}},[t._v(" $ "+t._s(t.total=t.totalT)+" ")])])])])])]),a("br"),a("br"),a("footer",[a("div",{attrs:{id:"gracias"}},[a("p",[a("b",[t._v("¡Gracias por su compra!")])])])])])]),a("v-card-actions",[a("v-btn",{attrs:{color:"red darken-1"},on:{click:function(e){return t.ocultarComprobante()}}},[t._v(" Cancelar ")])],1)],1)],1)],1)],1)},ee=[],ae=a("c0e9"),oe=a.n(ae),ie={data:function(){return{dialog:!1,search:"",ventas:[],headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Usuario",value:"usuario.nombre",sortable:!0},{text:"Cliente",value:"persona.nombre",sortable:!0},{text:"Comprobante",value:"tipo_comprobante",sortable:!0},{text:"Serie Comprobante",value:"serie_comprobante",sortable:!1},{text:"Número Comprobante",value:"num_comprobante",sortable:!1},{text:"Fecha",value:"createdAt",sortable:!1},{text:"Impuesto",value:"impuesto",sortable:!1},{text:"Total",value:"total",sortable:!1},{text:"Estado",value:"estado",sortable:!0}],editedIndex:-1,_id:"",impuesto:.18,personas:[],persona:"",codigo:"",headersDetalles:[{text:"Borrar",value:"borrar",sortable:!1},{text:"Articulo",value:"articulo",sortable:!1},{text:"Cantidad",value:"cantidad",sortable:!1},{text:"Precio",value:"precio",sortable:!1},{text:"Descuento",value:"descuento",sortable:!1},{text:"Sub Total",value:"subtotal",sortable:!1}],detalles:[],verNuevo:!1,comprobantes:["Boleta","Factura","Ticket"],num_comprobante:"",tipo_comprobante:"",serie_comprobante:"",valida:0,validaMensaje:[],actDesMod:0,adAccion:0,adNombre:"",adId:"",errorArticulo:null,total:0,totalParcial:0,totalImpuesto:0,articulos:[],texto:"",headersArticulo:[{text:"Seleccionar",value:"seleccionar",sortable:!1},{text:"Código",value:"codigo",sortable:!0},{text:"Nombre",value:"nombre",sortable:!0},{text:"Categoria",value:"categoria.nombre",sortable:!0},{text:"Stock",value:"stock",sortable:!1},{text:"Precio Venta",value:"precio_venta",sortable:!0},{text:"Descripción",value:"descripcion",sortable:!0},{text:"Estado",value:"estado",sortable:!0}],adModal:0,detaMod:0,verDetalle:0,comprobanteM:0,fecha:null,auxNum:null}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo registro":"Editar registro"},totalT:function(){for(var t=0,e=0;e<this.detalles.length;e++)t=t+this.detalles[e].cantidad*this.detalles[e].precio-this.detalles[e].descuento;return t}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.selectProve()},methods:{mostrarComprobante:function(t){this.limpiar(),this.tipo_comprobante=t.tipo_comprobante,this.serie_comprobante=t.serie_comprobante,this.num_comprobante=t.num_comprobante,this.persona=t.persona,this.impuesto=t.impuesto,this.fecha=t.createdAt,this.listarDetalles(t._id),this.comprobanteM=1,this.auxNum=t.num_comprobante},ocultarComprobante:function(){this.comprobanteM=0},crearPDF:function(){var t=document.getElementById("factura"),e=this.auxNum;oe()(t).then((function(t){var a=t.toDataURL("image/png"),o=210,i=295,s=t.height*o/t.width,r=s,n=new at["default"]("p","mm","a4");n.setDrawColor;var c=0;n.addImage(a,"PNG",0,c,o,s),r-=i;while(r>=0)c=r-s,n.addPage(),n.addImage(a,"PNG",0,c,o,s),r-=i;n.save("ComprobanteVenta#"+e+".pdf")}))},limpiar:function(){this.persona="",this.tipo_comprobante="",this.num_comprobante="",this.serie_comprobante="",this.num_documento="",this.impuesto=.18,this.codigo="",this.total=0,this.totalParcial=0,this.totalImpuesto=0,this.detalles=[],this.ocultarNuevo(),this.valida=0,this.validaMensaje=[]},validar:function(){return this.valida=0,this.validaMensaje=[],this.persona||this.validaMensaje.push("Seleccione un cliente"),this.tipo_comprobante||this.validaMensaje.push("Seleccione un tipo de comprobante"),this.num_comprobante||this.validaMensaje.push("Ingrese un numero de comprobante"),(!this.impuesto||this.impuesto<0||this.impuesto>1)&&this.validaMensaje.push("Ingrese un impuesto valido"),this.detalles.length<=0&&this.validaMensaje.push("Ingrese al menos un artpiculo a los detalles"),this.validaMensaje.length&&(this.valida=1),this.valida},selectProve:function(){var t=this,e=[],a={token:this.$store.state.token},o={headers:a};W.a.get("persona/listClientes",o).then((function(a){e=a.data,e.map((function(e){t.personas.push({text:e.nombre,value:e._id})}))})).catch((function(t){console.log(t)}))},buscarCodigo:function(){var t=this,e={token:this.$store.state.token},a={headers:e};t.errorArticulo=null,W.a.get("articulo/queryCodigo?codigo="+this.codigo,a).then((function(e){t.agregarDetalles(e.data)})).catch((function(e){t.errorArticulo="No existe el artículo"}))},listar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};W.a.get("venta/list",a).then((function(e){t.ventas=e.data})).catch((function(t){console.log(t)}))},listarArticulos:function(){var t=this,e={token:this.$store.state.token},a={headers:e};W.a.get("articulo/list?valor="+this.texto,a).then((function(e){t.articulos=e.data})).catch((function(t){console.log(t)}))},listarDetalles:function(t){var e=this,a={token:this.$store.state.token},o={headers:a};W.a.get("venta/query?_id="+t,o).then((function(t){e.detalles=t.data.detalles})).catch((function(t){console.log(t)}))},verIngreso:function(t){this.limpiar(),this.tipo_comprobante=t.tipo_comprobante,this.serie_comprobante=t.serie_comprobante,this.num_comprobante=t.num_comprobante,this.persona=t.persona._id,this.impuesto=t.impuesto,this.listarDetalles(t._id),this.verNuevo=1,this.verDetalle=1},guardar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};this.validar()||W.a.post("venta/add",{usuario:this.$store.state.usuario._id,persona:this.persona,tipo_comprobante:this.tipo_comprobante,num_comprobante:this.num_comprobante,serie_comprobante:this.serie_comprobante,impuesto:this.impuesto,total:this.total,detalles:this.detalles},a).then((function(e){t.limpiar(),t.listar()})).catch((function(t){console.log(t)}))},activarDesactivar:function(t,e){this.actDesMod=1,this.adNombre=e.num_comprobante,this.adId=e._id,1==t?this.adAccion=1:2==t?this.adAccion=2:this.actDesMod=0},activar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};W.a.put("venta/activate",{_id:this.adId},a).then((function(e){t.actDesMod=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desactivar:function(){var t=this,e={token:this.$store.state.token},a={headers:e};W.a.put("venta/deactivate",{_id:this.adId},a).then((function(e){t.actDesMod=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},close:function(){this.dialog=!1,this.adModal=0,this.limpiar()},mostrarNuevo:function(){this.verNuevo=!0},ocultarNuevo:function(){this.verNuevo=!1,this.detalles=[],this.persona="",this.tipo_comprobante="",this.num_comprobante="",this.serie_comprobante="",this.num_documento="",this.impuesto=.18,this.codigo="",this.total=0,this.totalParcial=0,this.totalImpuesto=0,this.verDetalle=0},agregarDetalles:function(t){this.errorArticulo=null,this.validaNuevo(t._id)?this.errorArticulo="El artículo ya fue agregado":(this.detalles.push({_id:t._id,articulo:t.nombre,cantidad:1,precio:t.precio_venta,descuento:0}),this.codigo="")},validaNuevo:function(t){for(var e=!1,a=0;a<this.detalles.length;a++)this.detalles[a]._id==t&&(e=!0);return e},eliminaDetalle:function(t,e){this.errorArticulo=null;var a=t.indexOf(e);-1!=a&&t.splice(a,1)},mostrarModalArticulos:function(){this.detaMod=1},ocultarModArt:function(){this.detaMod=0,this.texto="",this.articulos=[]},activarDesactivarCerrar:function(){this.actDesMod=0}}},se=ie,re=(a("02d6"),Object(d["a"])(se,te,ee,!1,null,null,null)),ne=re.exports;v()(re,{VAutocomplete:Qt["a"],VBtn:j["a"],VCard:st["a"],VCardActions:rt["a"],VCardText:rt["b"],VCardTitle:rt["c"],VCol:m["a"],VContainer:h["a"],VDataTable:nt["a"],VDialog:ct["a"],VDivider:lt["a"],VFlex:dt["a"],VIcon:V["a"],VLayout:ut["a"],VList:M["a"],VRow:b["a"],VSelect:vt["a"],VSpacer:P["a"],VTextField:mt["a"],VToolbar:ht["a"],VToolbarTitle:F["a"]}),o["a"].use(L["a"]);var ce=[{path:"/",name:"Home",component:Y,meta:{administrador:!0,almacenero:!0,vendedor:!0}},{path:"/articulos",name:"Articulo",component:bt,meta:{administrador:!0,almacenero:!0}},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/categorias",name:"Categoria",component:Ct,meta:{administrador:!0,almacenero:!0}},{path:"/login",name:"login",component:It,meta:{libre:!0}},{path:"/usuarios",name:"usuario",component:St,meta:{administrador:!0}},{path:"/clientes",name:"cliente",component:zt,meta:{administrador:!0,vendedor:!0}},{path:"/proveedores",name:"proveedor",component:Ht,meta:{administrador:!0,almacenero:!0}},{path:"/ingresos",name:"ingreso",component:Yt,meta:{administrador:!0,almacenero:!0}},{path:"/ventas",name:"venta",component:ne,meta:{administrador:!0,vendedor:!0}}],le=new L["a"]({mode:"history",base:"/",routes:ce});le.beforeEach((function(t,e,a){t.matched.some((function(t){return t.meta.libre}))?a():q.state.usuario&&"Administrador"==q.state.usuario.rol?t.matched.some((function(t){return t.meta.administrador}))&&a():q.state.usuario&&"Vendedor"==q.state.usuario.rol?t.matched.some((function(t){return t.meta.vendedor}))&&a():q.state.usuario&&"Almacenero"==q.state.usuario.rol?t.matched.some((function(t){return t.meta.almacenero}))&&a():a({name:"login"})}));var de=le,ue=a("f309"),ve=a("2e15"),me=a.n(ve);o["a"].use(ue["a"]);var he=new ue["a"]({theme:{options:{customProperties:!0},themes:{light:{primary:"#ee44aa",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}},lang:{locales:{es:me.a},current:"es"},icons:{iconfont:"md"}});o["a"].config.productionTip=!1,W.a.defaults.baseURL="http://localhost:8081/api/",new o["a"]({router:de,store:q,vuetify:he,render:function(t){return t($)}}).$mount("#app")},"9b19":function(t,e,a){t.exports=a.p+"img/logo.63a7d78d.svg"},b260:function(t,e,a){}});
//# sourceMappingURL=app.792e542f.js.map